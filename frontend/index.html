<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Cache Visualizer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <header><h1>Advanced Cache Algorithm Visualizer</h1><p>Comparing LRU vs. LFU vs. LRU-K eviction policies in real-time.</p></header>
    <main>
        <section id="controls-section">
            <form id="simulation-form">
                <div class="form-row">
                    <div class="form-group"><label for="capacity">Cache Capacity</label><input type="number" id="capacity" value="10" min="1" required></div>
                    <div class="form-group"><label for="workload-type">Workload Type</label><select id="workload-type"><option value="realistic" selected>Realistic</option><option value="scan">Scan</option><option value="random">Random</option><option value="custom">Custom</option></select></div>
                </div>
                <div class="form-row" id="custom-workload-row" style="display: none;"><div class="form-group full-width"><label for="custom-workload">Custom Workload (comma or space separated)</label><textarea id="custom-workload" rows="2">1,2,3,1,2,4,5,1,2,6,7,1,2,8</textarea></div></div>
                <div class="form-row bottom-row">
                    <div class="settings-box">
                        <div class="form-group slider-group"><label for="speed-slider">Speed</label><input type="range" id="speed-slider" min="0.05" max="1" step="0.05" value="0.5"></div>
                        <div class="form-group checkbox-group"><input type="checkbox" id="adaptive-k"><label for="adaptive-k">Adaptive-K</label></div>
                        <div class="form-group"><label for="k-value">K-Value</label><input type="number" id="k-value" value="2" min="1" required></div>
                    </div>
                    <div class="button-group"><button type="submit" id="start-button">Start</button><button type="button" id="pause-button" disabled>Pause</button><button type="button" id="clear-button">Clear</button></div>
                </div>
            </form>
        </section>
        <section id="status-bar"><p id="status-message">Ready to start simulation.</p></section>
        <section id="visualizer-section">
            <div class="cache-column"><div class="toggle-header"><button class="toggle-btn active" data-cache="lru">ON</button></div><div class="cache-container" id="lru-container"><h2>Standard LRU</h2><div class="stats"><p>Hits: <span id="lru-hits">0</span></p><p>Misses: <span id="lru-misses">0</span></p><p>Rate: <span id="lru-hit-rate">0.00%</span></p></div><div class="cache-list-wrapper"><h3>Cache</h3><div class="cache-list" id="lru-cache-list"></div></div></div></div>
            <div class="cache-column"><div class="toggle-header"><button class="toggle-btn active" data-cache="lfu">ON</button></div><div class="cache-container" id="lfu-container"><h2>Standard LFU</h2><div class="stats"><p>Hits: <span id="lfu-hits">0</span></p><p>Misses: <span id="lfu-misses">0</span></p><p>Rate: <span id="lfu-hit-rate">0.00%</span></p></div><div class="cache-list-wrapper"><h3>Cache</h3><div class="cache-list" id="lfu-cache-list"></div></div></div></div>
            <div class="cache-column"><div class="toggle-header"><button class="toggle-btn active" data-cache="lruk">ON</button></div><div class="cache-container" id="lruk-container"><h2>LRU-K <span id="adaptive-k-display"></span></h2><div class="stats"><p>Hits: <span id="lruk-hits">0</span></p><p>Misses: <span id="lruk-misses">0</span></p><p>Rate: <span id="lruk-hit-rate">0.00%</span></p></div><div class="cache-list-wrapper"><h3>History</h3><div class="cache-list history-list" id="lruk-history-list"></div></div><div class="cache-list-wrapper"><h3>Main Cache</h3><div class="cache-list" id="lruk-main-cache-list"></div></div></div></div>
        </section>
        <section id="chart-section"><div class="chart-container"><canvas id="hit-rate-chart"></canvas></div></section>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/script.js"></script>
</body>
</html>